(this["webpackJsonpdigital-line-test"]=this["webpackJsonpdigital-line-test"]||[]).push([[0],{72:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n,c=t(0),r=t.n(c),l=t(7),o=t.n(l),i=t(8),s=i.d;!function(e){e.OPEN_EDIT_MODAL="OPEN_EDIT_MODAL",e.CLOSE_EDIT_MODAL="CLOSE_EDIT_MODAL",e.RESET_EDIT_FORM="RESET_EDIT_FORM",e.ADD_TABLE_RECORD="ADD_TABLE_RECORD",e.EDIT_TABLE_RECORD="EDIT_TABLE_RECORD",e.DELETE_TABLE_RECORD="DELETE_TABLE_RECORD",e.EDIT_TABLE_CLONE_RECORD="EDIT_TABLE_CLONE_RECORD",e.DELETE_TABLE_CLONE_RECORD="DELETE_TABLE_CLONE_RECORD",e.COPY_TABLE="COPY_TABLE",e.DELETE_TABLE="DELETE_TABLE"}(n||(n={}));var b={name:"please enter name",surname:"please enter surname",age:"please enter correct age",city:"please enter city"},u=function(e){return!!e&&e.trim().length>0},d=function(e){return!!e&&!isNaN(Number(e.trim()))},j=function(e,a){return a?"".concat(e," has-error"):e},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{name:"",surname:"",age:"",city:void 0},t=arguments.length>2?arguments[2]:void 0;return{type:n.OPEN_EDIT_MODAL,payload:{tableId:t,rowId:e,data:a}}},E=function(){return{type:n.CLOSE_EDIT_MODAL}},m=t(30),_=t.n(m),p=t(2),v=function(){var e=Object(i.c)();return Object(p.jsx)("button",{type:"button",className:"btn btn--link",onClick:function(){e(O())},children:Object(p.jsx)(_.a,{})})},h=function(e){var a=e.columns,t=e.canFill;return Object(p.jsx)("thead",{className:"table__head",children:Object(p.jsxs)("tr",{className:"table__head-row",children:[a.map((function(e){var a=e.accessor,t=e.title;return Object(p.jsx)("th",{className:"table__cell table__cell--head",children:t},a)})),Object(p.jsx)("th",{className:"table__cell table__cell--head table__cell--head-actions",children:t&&Object(p.jsx)(v,{})})]})})},f=function(e){var a=e.tableId,t=e.rowId,c=e.data,r=Object(i.c)();return Object(p.jsxs)("div",{className:"table__row-actions",children:[Object(p.jsx)("button",{type:"button",className:"btn btn--link primary-color",onClick:function(){r(O(t,c[t],a))},children:"Edit"}),Object(p.jsx)("button",{type:"button",className:"btn btn--link danger-color",onClick:function(){r(a?function(e,a){return{type:n.DELETE_TABLE_CLONE_RECORD,payload:{tableId:e,rowId:a}}}(a,t):function(e){return{type:n.DELETE_TABLE_RECORD,payload:{rowId:e}}}(t))},children:"Delete"})]})},D=function(e){var a=e.data,t=e.columns,n=e.tableId;return Object(p.jsx)("tbody",{className:"table__body",children:Object.keys(a).map((function(e){return Object(p.jsxs)("tr",{className:"table__row",children:[t.map((function(t){var n=t.accessor;return Object(p.jsx)("td",{className:"table__cell",children:a[e][n]},n)})),Object(p.jsx)("td",{className:"table__cell",children:Object(p.jsx)(f,{tableId:n,rowId:e,data:a})})]},e)}))})},T=t(31),g=t.n(T),y=function(e){var a=e.canDelete,t=e.data,c=e.tableId,r=Object(i.c)();return Object(p.jsxs)("div",{className:"table__actions",children:[Object(p.jsx)("button",{className:"btn btn--primary",type:"button",onClick:function(){var e;r((e=t,{type:n.COPY_TABLE,payload:{tableData:e}}))},children:"Copy table"}),a&&Object(p.jsx)("button",{className:"btn btn--link danger-color table__actions-close",type:"button",onClick:function(){r(function(e){return{type:n.DELETE_TABLE,payload:{tableId:e}}}(c))},"data-testid":"delete-table-btn",children:Object(p.jsx)(g.a,{})})]})},L=function(e){var a=e.colSpan,t=e.canFill,n=Object(i.c)();return Object(p.jsx)("tbody",{children:Object(p.jsx)("tr",{children:Object(p.jsxs)("td",{className:"table__empty",colSpan:a,children:[Object(p.jsx)("div",{className:t?"mb-1":"",children:"No data "}),t&&Object(p.jsx)("button",{onClick:function(){n(O())},className:"btn btn--primary",children:"Add"})]})})})},x=function(e){var a=e.columns,t=e.data,n=e.id,c=e.isClone;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(y,{canDelete:c,data:t,tableId:n}),Object(p.jsx)("div",{className:"table-responsive",children:Object(p.jsxs)("table",{className:"table",children:[Object(p.jsx)(h,{columns:a,canFill:!c}),Object.keys(t).length>0?Object(p.jsx)(D,{columns:a,data:t,tableId:n}):Object(p.jsx)(L,{colSpan:a.length+1,canFill:!c})]})})]})},C=t(20),R=t.n(C),I=t(9),A=t(4),k=t(23),N=function(e){var a=e.error,t=e.children;return Object(p.jsxs)("div",{className:j("form__item",a),children:[t," ",a&&Object(p.jsx)("div",{className:"form__feedback",children:a})]})},B=t(22),S=function(e){var a=e.onChange,t=e.onBlur,n=e.onFocus,c=e.value,r=e.options,l=e.name,o=e.placeholder;return Object(p.jsx)(B.b,{onBlur:function(){t(l)},onFocus:function(){n(l)},onChange:a,value:c,placeholder:o,className:"form__control form__control--select",showSearch:!0,children:r.map((function(e){return Object(p.jsx)(B.a,{value:e,children:e},e)}))})},w=function(e){var a=e.onChange,t=e.onFocus,n=e.onBlur,c=e.name,r=e.value,l=e.placeholder,o=e.isNumeric;return Object(p.jsx)("input",{onChange:a,onBlur:function(e){var a=e.target.name;n(a,o)},onFocus:function(e){var a=e.target.name;t(a)},name:c,value:r,placeholder:l,className:"form__control form__control--text",autoComplete:"off"})},M=function(e){return e.tables},F=function(e){return M(e).modal},P=["Aglona","Aina\u017ei","Aizkraukle","Aizpute","Akn\u012bste","Aloja","Alsunga","Al\u016bksne","Ape","Auce","Baldone","Balo\u017ei","Baltinava","Balvi","Bauska","Bolderaja","Broc\u0113ni","Carnikava","C\u0113sis","Cesvaine","Cibla","Dagda","Daugavgr\u012bva","Daugavpils","Dobele","Dundaga","Engure","\u0112rg\u013ci","Garkalne","Grobi\u0146a","Gulbene","Iecava","Ik\u0161\u0137ile","Il\u016bkste","In\u010dukalns","Jaunaglona","Jaunciems","Jaunjelgava","Jaunpils","J\u0113kabpils","Jelgava","Jumprava","J\u016brmala","Kandava","Karosta","K\u0101rsava","\u0136egums","\u0136ekava","Koc\u0113ni","Koknese","Kr\u0101slava","Krustpils","Kuld\u012bga","Lie\u0123i","Lielv\u0101rde","Liep\u0101ja","L\u012bgatne","Limba\u017ei","L\u012bv\u0101ni","Lub\u0101na","Ludza","Madona","M\u0101lpils","M\u0101rupe","Mazsalaca","Me\u017eaparks","M\u016brmui\u017ea","Nauk\u0161\u0113ni","Nereta","N\u012bca","Ogre","Olaine","Ozolnieki","P\u0101vilosta","Pilsrund\u0101le","Piltene","Pi\u0146\u0137i","P\u013cavi\u0146as","Prei\u013ci","Priekule","Prieku\u013ci","Rauna","R\u0113zekne","Riebi\u0146i","Riga","Roja","Ropa\u017ei","Rucava","Rug\u0101ji","R\u016bjiena","Sabile","Salacgr\u012bva","Salaspils","Saldus","Saulkrasti","Seda","Sigulda","Skr\u012bveri","Skrunda","Sm\u0101rde","Smiltene","Staicele","Stalbe","Stende","Stren\u010di","Talsi","T\u0113rvete","T\u012bre\u013ci","Tukums","Ulbroka","Vai\u0146ode","Valdem\u0101rpils","Valka","Valmiera","Vanga\u017ei","Varak\u013c\u0101ni","Vecpiebalga","Vecumnieki","Vecv\u0101rkava","Ventspils","Vies\u012bte","Vi\u013caka","Vi\u013c\u0101ni","Zelme\u0146i","Zilupe"],V=function(){var e=Object(c.useState)({name:"",surname:"",age:"",city:void 0}),a=Object(k.a)(e,2),t=a[0],r=a[1],l=Object(c.useState)({}),o=Object(k.a)(l,2),j=o[0],O=o[1],m=s(F),_=m.data,v=m.rowId,h=m.tableId,f=Object(i.c)();Object(c.useEffect)((function(){r(_)}),[_]);var D=function(e){var a=e.target,n=a.value,c=a.name;r(Object(A.a)(Object(A.a)({},t),{},Object(I.a)({},c,n)))},T=function(e){var a=Object.keys(j).reduce((function(a,t){return t===e||(a[t]=j[t]),a}),{});O(a)},g=function(e,a){var n=a?d(t[e]):u(t[e]);j[e]&&n?T(e):j[e]||n||O(Object(A.a)(Object(A.a)({},j),{},Object(I.a)({},e,b[e])))},y=function(e){j[e]&&T(e)};return Object(p.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault();var a=function(e){var a={};return u(e.name)||(a.name=b.name),u(e.surname)||(a.surname=b.surname),d(e.age)||(a.age=b.age),u(e.city)||(a.city=b.city),a}(t);Object.keys(a).length?O(a):v?h?Object(i.b)((function(){f(E()),f(function(e,a,t){return{type:n.EDIT_TABLE_CLONE_RECORD,payload:{tableId:e,rowId:a,data:t}}}(h,v,t))})):Object(i.b)((function(){f(E()),f(function(e,a){return{type:n.EDIT_TABLE_RECORD,payload:{rowId:e,data:a}}}(v,t))})):Object(i.b)((function(){f(E()),f(function(e){return{type:n.ADD_TABLE_RECORD,payload:{data:e}}}(t))}))},children:[Object(p.jsx)(N,{error:j.name,children:Object(p.jsx)(w,{name:"name",placeholder:"Name",value:t.name,onChange:D,onBlur:g,onFocus:y})}),Object(p.jsx)(N,{error:j.surname,children:Object(p.jsx)(w,{name:"surname",placeholder:"Surname",value:t.surname,onChange:D,onBlur:g,onFocus:y})}),Object(p.jsx)(N,{error:j.age,children:Object(p.jsx)(w,{name:"age",placeholder:"Age",isNumeric:!0,value:t.age,onChange:D,onBlur:g,onFocus:y})}),Object(p.jsx)(N,{error:j.city,children:Object(p.jsx)(S,{placeholder:"City",name:"city",onChange:function(e){r(Object(A.a)(Object(A.a)({},t),{},{city:e}))},onBlur:g,onFocus:y,value:t.city,options:P})}),Object(p.jsx)("div",{className:"form__item",children:Object(p.jsx)("button",{className:"btn btn--primary btn--block btn--xl",type:"submit",children:v?"Edit":"Add"})})]})},J={overlay:{backgroundColor:"rgba(0, 0, 0, 0.35)"},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",width:"280px",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.15)",borderRadius:"4px"}};R.a.setAppElement("#root");var K=function(e){var a=e.isOpen,t=Object(i.c)();return Object(p.jsx)(R.a,{isOpen:a,onRequestClose:function(){t(E())},onAfterClose:function(){t({type:n.RESET_EDIT_FORM})},style:J,closeTimeoutMS:300,children:Object(p.jsx)(V,{})})},z=[{accessor:"name",title:"Name"},{accessor:"surname",title:"Surname"},{accessor:"age",title:"Age"},{accessor:"city",title:"City"}],Y=function(){var e=s(M),a=e.data,t=e.clones,n=e.modal;return Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{columns:z,data:a,isClone:!1}),Object.keys(t).map((function(e){return Object(p.jsx)(x,{columns:z,data:t[e],id:e,isClone:!0},e)})),Object(p.jsx)(K,{isOpen:n.isOpen})]})},G=(t(72),t(14)),Z=t(75),q={data:{},clones:{},modal:{isOpen:!1,tableId:"",rowId:"",data:{name:"",surname:"",age:"",city:void 0}}},U=Object(G.a)({tables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.OPEN_EDIT_MODAL:var t=a.payload,c=t.tableId,r=t.rowId,l=t.data;return Object(A.a)(Object(A.a)({},e),{},{modal:{isOpen:!0,tableId:c,rowId:r,data:l}});case n.CLOSE_EDIT_MODAL:return Object(A.a)(Object(A.a)({},e),{},{modal:Object(A.a)(Object(A.a)({},e.modal),{},{isOpen:!1})});case n.RESET_EDIT_FORM:return Object(A.a)(Object(A.a)({},e),{},{modal:q.modal});case n.ADD_TABLE_RECORD:var o=a.payload.data;return Object(A.a)(Object(A.a)({},e),{},{data:Object(A.a)(Object(A.a)({},e.data),{},Object(I.a)({},Object(Z.a)(),o))});case n.EDIT_TABLE_RECORD:var i=a.payload,s=i.rowId,b=i.data;return Object(A.a)(Object(A.a)({},e),{},{data:Object(A.a)(Object(A.a)({},e.data),{},Object(I.a)({},s,b))});case n.EDIT_TABLE_CLONE_RECORD:var u=a.payload,d=u.rowId,j=u.data,O=u.tableId;return Object(A.a)(Object(A.a)({},e),{},{clones:Object(A.a)(Object(A.a)({},e.clones),{},Object(I.a)({},O,Object(A.a)(Object(A.a)({},e.clones[O]),{},Object(I.a)({},d,j))))});case n.DELETE_TABLE_RECORD:var E=a.payload.rowId,m=Object.keys(e.data).reduce((function(a,t){return t===E||(a[t]=e.data[t]),a}),{});return Object(A.a)(Object(A.a)({},e),{},{data:m});case n.DELETE_TABLE_CLONE_RECORD:var _=a.payload,p=_.tableId,v=_.rowId,h=Object.keys(e.clones[p]).reduce((function(a,t){return t===v||(a[t]=e.clones[p][t]),a}),{});return Object(A.a)(Object(A.a)({},e),{},{clones:Object(A.a)(Object(A.a)({},e.clones),{},Object(I.a)({},p,h))});case n.COPY_TABLE:var f=a.payload.tableData;return Object(A.a)(Object(A.a)({},e),{},{clones:Object(A.a)(Object(A.a)({},e.clones),{},Object(I.a)({},Object(Z.a)(),f))});case n.DELETE_TABLE:var D=a.payload.tableId,T=Object.keys(e.clones).reduce((function(a,t){return t===D||(a[t]=e.clones[t]),a}),{});return Object(A.a)(Object(A.a)({},e),{},{clones:T});default:return e}}});var H,Q=Object(G.b)(U,H);o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(i.a,{store:Q,children:Object(p.jsx)(Y,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.bd987a96.chunk.js.map